name: http-greeting
description: Simple HTTP endpoint that returns a JSON greeting

trigger:
  - type: http
    path: /hello/:name
    methods: [GET]
    public: true
    responses:
      json:
        enabled: true

agents:
  - name: greet-user
    operation: code
    config:
      code: |
        export default function greetUser(input, context) {
          const name = context.request.params.name || 'World';
          return {
            greeting: `Hello, ${name}!`,
            timestamp: new Date().toISOString(),
            message: `Welcome to Conductor!`
          };
        }

flow:
  - agent: greet-user

output:
  greeting: ${greet-user.output.greeting}
  timestamp: ${greet-user.output.timestamp}
  message: ${greet-user.output.message}
